(this["webpackJsonpreact-project-sample"]=this["webpackJsonpreact-project-sample"]||[]).push([[0],{43:function(e,t,a){e.exports=a(67)},44:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/olive.6c9efc12.png"},57:function(e,t,a){e.exports=a.p+"static/media/olive.6915a1c3.png"},58:function(e,t,a){e.exports=a.p+"static/media/tomato.513a9f2e.png"},59:function(e,t,a){e.exports=a.p+"static/media/tomato.6c56301b.png"},60:function(e,t,a){e.exports=a.p+"static/media/greens.14e573da.png"},61:function(e,t,a){e.exports=a.p+"static/media/greens.cd50be91.png"},62:function(e,t,a){e.exports=a.p+"static/media/mashrooms.d6ff94b8.png"},63:function(e,t,a){e.exports=a.p+"static/media/mashrooms.d327c447.png"},64:function(e,t,a){e.exports=a.p+"static/media/sausage.dc174a6c.png"},65:function(e,t,a){e.exports=a.p+"static/media/sausage.368cc2ac.png"},67:function(e,t,a){"use strict";a.r(t);a(44);var n=a(0),r=a.n(n),i=a(22),c=a.n(i),s=a(25),l=a(70),o=a(40),d=a(9),m=a(37),u=a(5),p=a(20),E=(a(53),a(38)),g=a.n(E),b=a(7),_={ADD_INGREDIENT:"ADD_INGREDIENT",CHANGE_BASE_SIZE:"CHANGE_BASE_SIZE",RESET_BASE_AND_INGREDIENTS:"RESET_BASE_AND_INGREDIENTS"},f=function(e,t){return e.map((function(e){return e.id===t.id?Object(b.a)({},e,{quantity:e.quantity+1}):e}))},z=function(e,t){return e.map((function(e){return e.id===t.id?Object(b.a)({},e,{selected:!0}):Object(b.a)({},e,{selected:!1})}))},N=[{id:"ingredient-1",name:"olive",pieceImg:a(56),portionImg:a(57),weight:.1,price:.3,type:"ingredient",quantity:0},{id:"ingredient-2",name:"tomato",pieceImg:a(58),portionImg:a(59),weight:.3,price:.2,type:"ingredient",quantity:0},{id:"ingredient-3",name:"greens",pieceImg:a(60),portionImg:a(61),weight:.05,price:.1,type:"ingredient",quantity:0},{id:"ingredient-4",name:"mashrooms",pieceImg:a(62),portionImg:a(63),weight:.1,price:.5,type:"ingredient",quantity:0},{id:"ingredient-5",name:"sausage",pieceImg:a(64),portionImg:a(65),weight:.3,price:.5,type:"ingredient",quantity:0}],y=[{id:"base-1",name:"SMALL",size:.9,weight:.2,price:1,type:"base",selected:!1,quantity:1},{id:"base-2",name:"MEDIUM",size:1,weight:.4,price:2,type:"base",selected:!0,quantity:1},{id:"base-3",name:"BIG",size:1.1,weight:.6,price:3,type:"base",selected:!1,quantity:1}],v=_.ADD_INGREDIENT,I=_.CHANGE_BASE_SIZE,S=_.RESET_BASE_AND_INGREDIENTS,O={ingredients:N,baseSizes:y},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(b.a)({},e,{ingredients:f(e.ingredients,t.payload)});case I:return Object(b.a)({},e,{baseSizes:z(e.baseSizes,t.payload)});case S:return Object(b.a)({},e,{ingredients:N,baseSizes:y});default:return e}},h=a(26),j={SAVE_PIZZA_SAMPLE:"SAVE_PIZZA_SAMPLE",CLEAR_PIZZA_HISTORY:"CLEAR_PIZZA_HISTORY"},D=j.SAVE_PIZZA_SAMPLE,k=j.CLEAR_PIZZA_HISTORY,R={orders:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(b.a)({},e,{orders:[].concat(Object(h.a)(e.orders),[t.payload.filter((function(e){return!!e.quantity}))])});case k:return Object(b.a)({},e,{orders:[]});default:return e}},P={key:"root",storage:g.a,whitelist:["prevOrders"]},Z=Object(u.c)({ingredients:A,prevOrders:x}),B=Object(p.a)(P,Z);var T=Object(u.d)(B,u.a.apply(void 0,[])),C=Object(p.b)(T),q=(p.b,a(3)),w=function(e){return e.ingredients},G=Object(q.a)([w],(function(e){return e.ingredients})),H=Object(q.a)([w],(function(e){return e.baseSizes})),L=Object(q.a)([H],(function(e){return e.find((function(e){return!0===e.selected}))})),M=Object(q.a)([G,L],(function(e,t){return[Object(b.a)({},t)].concat(Object(h.a)(e))})),Y=a(21),F=a(71),V=a(69),U="ingredient",J=function(e){var t=e.ingredient,a=t.pieceImg,n=Object(F.a)({item:{type:U,ingredient:t},collect:function(e){return{isDragging:!!e.isDragging()}}}),i=Object(Y.a)(n,3),c=i[0].isDragging,s=i[1],l=i[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{connect:l,src:a}),r.a.createElement("div",{ref:s,className:"ingredient",style:{backgroundImage:"url(".concat(a,")"),opacity:c?.3:1}}))},$=Object(q.b)({ingredients:G}),K=Object(d.b)($)((function(e){var t=e.ingredients;return r.a.createElement("div",{className:"cutting-board"},t.map((function(e){return r.a.createElement(J,{key:e.id,ingredient:e})})))})),Q=a(72),W=_.ADD_INGREDIENT,X=_.CHANGE_BASE_SIZE,ee=_.RESET_BASE_AND_INGREDIENTS,te=a(41),ae=function(e){var t=e.className,a=e.children,n=Object(te.a)(e,["className","children"]);return r.a.createElement("button",Object.assign({},n,{className:t?"ns-btn ".concat(t):"ns-btn"}),a)},ne=function(e){var t=e.state,a=e.setState;return t?r.a.createElement("div",{className:"adding-ingredient",style:{backgroundImage:"url(".concat(t.pieceImg,")")},onAnimationEnd:function(){return a(null)}}):null},re=Object(q.b)({ingredients:G,baseSize:H,selectedBaseSize:L}),ie=Object(d.b)(re,(function(e){return{addIngredient:function(t){return e(function(e){return{type:W,payload:e}}(t))},setPizzaBaseSize:function(t){return e(function(e){return{type:X,payload:e}}(t))}}}))((function(e){var t=e.ingredients,a=e.baseSize,i=e.selectedBaseSize,c=e.addIngredient,s=e.setPizzaBaseSize,l=Object(n.useState)(),o=Object(Y.a)(l,2),d=o[0],m=o[1],u=Object(Q.a)({accept:U,drop:function(e){return function(e){m(e),c(e)}(e.ingredient)}}),p=Object(Y.a)(u,2)[1];return console.log(d),r.a.createElement("div",{className:"pizza",ref:p,style:{transform:"scale(".concat(i.size,")")}},r.a.createElement(ne,{state:d,setState:m}),r.a.createElement("div",{className:"pizza__main"},t.map((function(e){return e.quantity&&e.portionImg?r.a.createElement("div",{key:e.id,style:{backgroundImage:"url(".concat(e.portionImg,")")},className:"pizza__ingredient pizza__".concat(e.name)}):null}))),r.a.createElement("div",{className:"pizza__size"},a.map((function(e){var t=e.selected?"ns-btn-pizza ns-btn-pizza--active":"ns-btn-pizza";return r.a.createElement(ae,{key:e.id,className:t,onClick:s.bind(void 0,e)},r.a.createElement("span",{className:"pizza__btn-text"},e.name))}))))})),ce=j.SAVE_PIZZA_SAMPLE,se=j.CLEAR_PIZZA_HISTORY,le=function(){return{type:se}},oe=Object(q.b)({ingredients:G,selectedBaseSize:L,totalOrder:M}),de=Object(d.b)(oe,(function(e){return{savePizzaSample:function(t){return e(function(e){return{type:ce,payload:e}}(t))},clearPizzaHistory:function(){return e(le())},resetAllIngredients:function(){return e({type:ee})}}}))((function(e){var t=e.ingredients,a=e.selectedBaseSize,n=e.totalOrder,i=e.savePizzaSample,c=e.resetAllIngredients;console.log(n);return r.a.createElement("div",{className:"price-list"},r.a.createElement("h2",{className:"price-list__title"},"Price list"),r.a.createElement("ul",{className:"price-list__content"},r.a.createElement("li",{className:"price-list__item"},"BASE: ",r.a.createElement("span",null,a.name," ")," Size /",a.weight.toFixed(2),"kg/"),t.map((function(e){return r.a.createElement("li",{key:e.id,className:"price-list__item"},e.name.toUpperCase(),": ",r.a.createElement("span",null," ",e.quantity),"x Portion /",(e.quantity*e.weight).toFixed(2),"kg/")})),r.a.createElement("li",{className:"price-list__total"},r.a.createElement("div",null,r.a.createElement("span",null,"Total price: "),r.a.createElement("span",null,(t.reduce((function(e,t){return e+t.price*t.quantity}),0)+a.price).toFixed(2),"$")),r.a.createElement(ae,{className:"ns-btn--order-submit",onClick:function(){i(n),c()}},"Submit order"))))})),me=function(){return r.a.createElement("div",{className:"pizza-baker"},r.a.createElement("div",{className:"pizza-baker__container"},r.a.createElement("div",{className:"pizza-baker__main"},r.a.createElement(ie,null),r.a.createElement(K,null),r.a.createElement(de,null))))},ue=Object(q.a)([function(e){return e.prevOrders}],(function(e){return e.orders})),pe=Object(q.b)({prevOrders:ue}),Ee=Object(d.b)(pe,(function(e){return{clearPizzaHistory:function(){return e(le())}}}))((function(e){var t=e.prevOrders,a=e.clearPizzaHistory;console.log(t);var n=function(){alert("You have ordered succesfully. Bon apety.")};return r.a.createElement("div",{className:"ordered-pizzas"},t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ordered-pizzas__top"},r.a.createElement(ae,{className:"ns-btn-pizza",onClick:a},r.a.createElement("span",{className:"pizza__btn-text"},"Clear history"))),r.a.createElement("div",{className:"ordered-pizzas__bottom"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"ordered-pizzas__collection"},r.a.createElement("div",null,e.map((function(e){return"base"===e.type?r.a.createElement("div",null,r.a.createElement("div",{key:e.id,className:"ordered-pizzas__item-title"},r.a.createElement("span",null,"BASE: ",e.name)),r.a.createElement("div",{className:"u-flex-center"},"INGREDIENTS")):r.a.createElement("div",{key:e.id,className:"ordered-pizzas__item"},r.a.createElement("span",null,e.name.toUpperCase(),": x",e.quantity))}))),r.a.createElement("div",{className:"order-again"},r.a.createElement(ae,{className:"order-again__btn",onClick:n},"ORDER AGAIN")))})))):r.a.createElement("div",{className:"ordered-pizzas__empty-message"},"You haven't any orders yet"))})),ge=Object(q.b)({orders:ue}),be=Object(d.b)(ge)((function(e){var t=e.orders,a=e.history;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__logo",onClick:function(){return a.push("/")}}),r.a.createElement("div",{className:t.length?"header__plate header__plate--full":"header__plate",onClick:function(){return a.push("/ordered-pizzas")}}))})),_e=a(12);var fe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_e.a,{component:be}),r.a.createElement("main",{className:"main"},r.a.createElement(_e.c,null,r.a.createElement(_e.a,{exact:!0,path:"/",component:me}),r.a.createElement(_e.a,{exact:!0,path:"/ordered-pizzas",component:Ee}))))};c.a.render(r.a.createElement(l.a,{backend:o.a},r.a.createElement(d.a,{store:T},r.a.createElement(s.a,null,r.a.createElement(m.a,{persistor:C},r.a.createElement(s.b,{basename:"/"},r.a.createElement(fe,null)))))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.3506e517.chunk.js.map